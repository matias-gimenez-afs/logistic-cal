<div class="logistica-section-container">
  <h2 class="section-title">Gestión de Hospedaje</h2>
  <p class="section-subtitle">Filtrar, ordenar y asignar hospedaje</p>

  <div class="filters-container">
    <mat-form-field appearance="fill">
      <mat-label>Rol</mat-label>
      <mat-select [(ngModel)]="filtros.rol">
        <mat-option value="">Todos</mat-option>
        <mat-option value="Participante">Participante</mat-option>
        <mat-option value="Staff">Staff</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Género</mat-label>
      <mat-select [(ngModel)]="filtros.genero">
        <mat-option value="">Todos</mat-option>
        <mat-option value="Femenino">Femenino</mat-option>
        <mat-option value="Masculino">Masculino</mat-option>
      </mat-select>
    </mat-form-field>

    <div class="filtro-edad" style="display: flex; gap: 1rem;">
      <mat-form-field appearance="fill">
        <mat-label>Edad mínima</mat-label>
        <input matInput type="number" [(ngModel)]="filtros.edadMin" min="0" />
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Edad máxima</mat-label>
        <input matInput type="number" [(ngModel)]="filtros.edadMax" min="0" />
      </mat-form-field>
    </div>

    <mat-form-field appearance="fill">
      <mat-label>Hospedaje asignado</mat-label>
      <mat-select [(ngModel)]="filtros.hospedajeAsignado">
        <mat-option value="">Todos</mat-option>
        <mat-option value="QC">QC</mat-option>
        <mat-option value="Sussex">Sussex</mat-option>
        <mat-option value="Otro">Otro</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Número de habitación</mat-label>
      <mat-select [(ngModel)]="filtros.numeroHabitacion">
        <mat-option value="">Todos</mat-option>
        <mat-option value="asignado">Asignado</mat-option>
        <mat-option value="vacio">Vacío</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="ordenamiento-container">
    <mat-form-field appearance="fill">
      <mat-label>Ordenar primero por</mat-label>
      <mat-select [(ngModel)]="ordenarPrimeroPor">
        <mat-option value="rol">Rol</mat-option>
        <mat-option value="edad">Edad</mat-option>
      </mat-select>
    </mat-form-field>

    <div class="full-width-table">

    <table
      mat-table
      [dataSource]="dataFiltradaOrdenada"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef>Nombre</th>
        <td mat-cell *matCellDef="let p">{{ p.nombre }}</td>
      </ng-container>

      <ng-container matColumnDef="apellido">
        <th mat-header-cell *matHeaderCellDef>Apellido</th>
        <td mat-cell *matCellDef="let p">{{ p.apellido }}</td>
      </ng-container>

      <ng-container matColumnDef="rol">
        <th mat-header-cell *matHeaderCellDef>Rol</th>
        <td mat-cell *matCellDef="let p">{{ p.rol }}</td>
      </ng-container>

      <ng-container matColumnDef="edad">
        <th mat-header-cell *matHeaderCellDef>Edad</th>
        <td mat-cell *matCellDef="let p">{{ p.edad }}</td>
      </ng-container>

      <ng-container matColumnDef="genero">
        <th mat-header-cell *matHeaderCellDef>Género</th>
        <td mat-cell *matCellDef="let p">{{ p.genero }}</td>
      </ng-container>

      <ng-container matColumnDef="hospedajeAsignado">
        <th mat-header-cell *matHeaderCellDef>Hospedaje</th>
        <td mat-cell *matCellDef="let p">{{ p.hospedajeAsignado }}</td>
      </ng-container>

      <ng-container matColumnDef="numeroHabitacion">
        <th mat-header-cell *matHeaderCellDef>Habitación</th>
        <td mat-cell *matCellDef="let p">
          {{ p.numeroHabitacion || '-' }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
  </div>
</div>
